const slider=document.querySelector(".slider"),slides=slider.querySelectorAll(".slider__item"),sliderBtn=slider.querySelectorAll(".slider__button"),tab=document.querySelector(".services"),tabSlides=tab.querySelectorAll(".services__item"),tabBtn=tab.querySelectorAll(".services__button"),workSlider=function(e,t,l,o){for(let a=0;a<t.length;a++)t[a].addEventListener("click",function(s){s.preventDefault();for(let a=0;a<t.length;a++)e[a].classList.remove(l),t[a].classList.remove(o);e[a].classList.contains(l)||(e[a].classList.add(l),t[a].classList.add(o))})};workSlider(slides,sliderBtn,"slider__item__show","button__selected"),workSlider(tabSlides,tabBtn,"tab__show","button__checked");const main=document.querySelector(".page__main"),btnFeedback=main.querySelector(".feedback__link"),btnMap=main.querySelector(".contacts__link"),modalFeedback=document.querySelector(".modal__commun"),feedbackForm=modalFeedback.querySelector(".feedback__form"),modalMap=document.querySelector(".modal__map"),inputReq=modalFeedback.querySelectorAll("input[required], textarea[required]"),modalSubmit=modalFeedback.querySelector(".modal__commun__submit"),btnClose=document.querySelectorAll(".btn__close"),modalWork=function(e,t,l){t.addEventListener("click",function(t){t.preventDefault(),e.classList.contains("modal__show")||(e.classList.add("modal__show"),l&&feedbackForm.classList.remove("shake"))})};modalWork(modalFeedback,btnFeedback,1),modalWork(modalMap,btnMap);const remInvalid=function(e,t){for(let l=0;l<e.length;l++)e[l].classList.remove(t)};modalSubmit.addEventListener("click",function(e){feedbackForm.classList.remove("shake"),feedbackForm.offsetWidth=feedbackForm.offsetWidth;for(let e=0;e<inputReq.length;e++)inputReq[e].checkValidity()||(inputReq[e].classList.add("invalid"),feedbackForm.classList.add("shake")),inputReq[e].oninput=function(){inputReq[e].classList.remove("invalid")}});for(let e=0;e<btnClose.length;e++)btnClose[e].addEventListener("click",function(e){e.preventDefault(),modalFeedback.classList.remove("modal__show"),modalMap.classList.remove("modal__show"),remInvalid(inputReq,"invalid")});window.addEventListener("keydown",function(e){27===e.keyCode&&(modalFeedback.classList.remove("modal__show"),modalMap.classList.remove("modal__show"),remInvalid(inputReq,"invalid"))});